---
title: "Visualizing Color Spaces in Augmented Reality with Spectacles"
description: ""
pubDatetime: 2025-12-22T09:00:00Z
tags:
  [
    "augmented reality",
    "ar",
    "spectacles",
    "lens studio",
    "ui",
    "color space",
    "vfx editor",
  ]
ogImage: /assets/visualizing-color-spaces-in-ar-glasses/rec.gif
icon: /assets/visualizing-color-spaces-in-ar-glasses/ghost_color_space.png
draft: true
---

import WorkflowDiagram from "@components/WorkflowDiagram";
import WorkflowDiagramSimple from "@components/WorkflowDiagramSimple";

<div style="text-align: center;">
<a href="https://github.com/a-sumo/specs-samples/" style="display: inline-flex; align-items: center; gap: 10px;"><img src="/assets/visualizing-color-spaces-in-ar-glasses/ghost_color_space.png" width="80" alt="Color Space Sample Project" /><span>a-sumo/specs-samples</span></a>
</div>

1. The challenge of color mixing

When mixing pigments on a palette, each decision moves the color across three dimensions: hue, saturation and value. 
These three dimensions are independent, or in techincal terms, orthogonal. In theory, you can change one while keeping others constant.

<img src="/assets/visualizing-color-spaces-in-ar-glasses/figma_hsl_color_picker.png" alt="Figma Color Picker" style={{ width: "200px" }} />

Per example in order to de-saturate the green color of a tree as it vanishes in the horizon, you'll generally want to add a colder color to it, such as blue.
But by adding blue, you also shift the hue towards... blue! So in practice, the dimensions aren't so independent after all.
It turns out that mixing color pigments involves a kind of multidimensional navigation which experienced painters perform seamlessly. 
This is a particularly crucial process that has an impact on the confidence of your brushtrokes and the fluidity of your artwork.
In fact, the problems you can solve ahead of laying your brush on the canvas, the more enjoyable the process for you, the painter and the more free-flowing your painting will *feel* to the viewer.

you have too few pigments, you have little expressiveness and it may be unclear whether or not a certain color in you reference is achievable and if it isn't, what's the closest you can get to it.

However, the more pigments you have, the more degrees of freedom, hence the more complexity. This complexity grows combinatorially: not only do you have more possible mixtures to consider, but many different mixtures can yield the same color!
This makes makes it harder to reason about which path to take. 
I've been personally driven insane when attempting to do this with acrylics, where I had to factor in the fast drying time and the desaturation post drying, 
how much my retardant would increase my color mixing runway, depending on which . I mean, this stuff can literally drive you insane. 
Wanna try? Here: I give you a color and you need to find out which mix achieves it. "Bonne chance, Franco"!

I've speak from experience, having thrown away a few unfinished paintings because I couldn't get the colors I wanted, no matter how hard I tried. I also had no way of knowing which pigments I was missing.
So I watched youtube tutorials, and after a quick reddit search landed on "1,500 Color Mixing Recipes for Oil, Acrylic & Watercolor by William F. Powell"
It's a very comprehensive book, but as I read it and try my hands at a few combinations, 
I kept wondering: "why does this process have to be so boring and tedious"
<img src="/assets/visualizing-color-spaces-in-ar-glasses/color_mixing_recipes.png" alt="1500 Color Mixing Recipes" style={{ width: "200px" }} />
I wanted something interactive, 
If, on the other hand, I restrict my palette to just a few pigments at the time, then I need to know which colors are within reach. Can I achieve a highly saturated purple? If I can't, then what's the closest I can get to it while achieving the desired impression?

All these considerations are what years of practice go into.
You just can't develop an intuition for how specific pigments for each specific brand will interact with one another across hue saturation and value just by watching video tutorials and reading books. You must paint, again and again, ideally with some guidance, but knowing that the process will be tedious.

But how tedious does it really need to be? Is frustration necessary for learning, or can skillful effort be sufficient?

What can I do to know or at least in advance which colors can be achieved with the pigments I have available?
Can I view in real-time how my actions move the paint across the color dimensions?

2. Seeing tools

This problem is precisely what seeing tools are meant to tackle.
Imagine having the super power to see into the chemical compositions of color pigments and their interaction with light and being able to
If I was predicting the color that would result from the interaction of pigments across, hue, saturation and value in real time.
How can I do that?

3. Implementation

The dimensions of hue, value and chromaticity(saturation) can either be visualized individually or in combination.
Because real life color pigment manipulation alters the paint across all trhee dimension, to represent each separately or in combinations of two would result in three different disparate variables.

Ideally what we would want is a viewing navigation tool.

We can begin with a simple example, an RGB color cube. The space has points on its inside so using a solid mesh isn't viable. The alternative is particles and volumes.
The drawback of volumes is the performance of their computation.
The generally used approach is raycasting. This involves casting rays from the camera onto a bounding cube and stepping through the cube to sample values.

The workflow involves three main components working together:

<WorkflowDiagram client:load />

The encoder material writes position and color data into render textures. The script orchestrates the pipeline, creating render targets and connecting the material output to the VFX input. Finally, the VFX decoder spawns particles, sampling the render textures to set each particle's position and color.

4 approaches:

- solid mesh
- volumes
- particles
- lines

### Full Color Space

<WorkflowDiagramSimple
	client:load
	scriptLabel="Script"
	materialLabel="Material"
	materialCapture="full_color_space.png"
	scriptCodeFile="rgb_cube_generator_script.txt"
	materialCodeFile="full_space_mat.txt"
/>

### Pigment Mixing Gamut

<WorkflowDiagramSimple
	client:load
	scriptLabel="Script"
	materialLabel="Material"
	materialCapture="full_color_space.png"
	scriptCodeFile="pigment_mix_gamut_script.txt"
	materialCodeFile="pigment_gamut_mat.txt"
/>

### Pigment Projection

<WorkflowDiagramSimple
	client:load
	scriptLabel="Script"
	materialLabel="Material"
	materialCapture="projector.png"
	scriptCodeFile="pigment_projector_script.txt"
	materialCodeFile="projector_mat.txt"
/>

<img src="/assets/visualizing-color-spaces-in-ar-glasses/color_space_transforms.gif" alt="Color space transforms" style={{ width: "100%", borderRadius: "8px" }} />

## Up next: AI-augmented Image Processing Pipeline on Spectacles AR glasses